function GFStripeAdminClass(){this.validateKey=function(a,b){return 0==b.length?void this.setKeyStatus(a,""):(jQuery("#"+a).val(b.trim()),this.setKeyStatusIcon(a,"<img src='"+gforms_stripe_admin_strings.spinner+"'/>"),void("live_publishable_key"==a||"test_publishable_key"==a?this.validatePublishableKey(a,b):this.validateSecretKey(a,b)))},this.validateSecretKey=function(a,b){jQuery.post(ajaxurl,{action:"gf_validate_secret_key",keyName:a,key:b},function(b){b=b.trim(),"valid"==b?GFStripeAdmin.setKeyStatus(a,"1"):"invalid"==b?GFStripeAdmin.setKeyStatus(a,"0"):GFStripeAdmin.setKeyStatusIcon(a,gforms_stripe_admin_strings.validation_error)})},this.validatePublishableKey=function(a,b){this.setKeyStatusIcon(a,"<img src='"+gforms_stripe_admin_strings.spinner+"'/>"),cc={number:"4916433572511762",exp_month:"01",exp_year:(new Date).getFullYear()+1,cvc:"111",name:"Test Card"},Stripe.setPublishableKey(b),Stripe.card.createToken(cc,function(b,c){200==b?GFStripeAdmin.setKeyStatus(a,"1"):400!=b&&402!=b||"live_publishable_key"!=a?GFStripeAdmin.setKeyStatus(a,"0"):GFStripeAdmin.setKeyStatus(a,"1")})},this.initKeyStatus=function(a){var b=jQuery("#"+a+"_is_valid").val(),c=jQuery("#"+a).val();b.length>0?this.setKeyStatus(a,b):c.length>0&&this.validateKey(a,c)},this.setKeyStatus=function(a,b){jQuery("#"+a+"_is_valid").val(b);var c="";"1"==b?c='<i class="fa icon-check fa-check gf_valid"></i>':"0"==b&&(c='<i class="fa icon-remove fa-times gf_invalid"></i>'),this.setKeyStatusIcon(a,c)},this.setKeyStatusIcon=function(a,b){var c=jQuery("#"+a+"_status_icon");c.length>0&&c.remove(),jQuery("#"+a).after("<span id='"+a+"_status_icon'>&nbsp;&nbsp;"+b+"</span>")}}jQuery(document).ready(function(){GFStripeAdmin=new GFStripeAdminClass,GFStripeAdmin.initKeyStatus("live_publishable_key"),GFStripeAdmin.initKeyStatus("live_secret_key"),GFStripeAdmin.initKeyStatus("test_publishable_key"),GFStripeAdmin.initKeyStatus("test_secret_key")});